<!doctype html>
<html>
  <head>
    <title>Workflow Launcher Test</title>
    <meta charset="UTF-8" />
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .link-test {
        margin: 10px 0;
        padding: 10px;
        border: 1px solid #ccc;
      }
      .success {
        background: #d4edda;
      }
      .info {
        background: #d1ecf1;
      }
    </style>
  </head>
  <body>
    <h1>Workflow Builder Link Tests</h1>

    <div class="link-test info">
      <h3>Test 1: Explicit HTTP URL</h3>
      <a href="http://localhost:3000/workflow-builder-fixed.html" target="_blank">
        Open Workflow Builder (Explicit HTTP)
      </a>
      <p>This should work correctly without HTTPS redirect</p>
    </div>

    <div class="link-test info">
      <h3>Test 2: Relative URL</h3>
      <a href="workflow-builder-fixed.html" target="_blank"> Open Workflow Builder (Relative) </a>
      <p>This might trigger HTTPS if browser has cached redirect</p>
    </div>

    <div class="link-test info">
      <h3>Test 3: JavaScript Navigation</h3>
      <button onclick="window.location.href='http://localhost:3000/workflow-builder-fixed.html'">
        Open via JavaScript (HTTP)
      </button>
      <p>Forces HTTP protocol via JavaScript</p>
    </div>

    <div class="link-test success">
      <h3>Diagnostic Info</h3>
      <p>Current Protocol: <span id="protocol"></span></p>
      <p>Current Origin: <span id="origin"></span></p>
    </div>

    <script>
      document.getElementById('protocol').textContent = window.location.protocol;
      document.getElementById('origin').textContent = window.location.origin;

      // Log any navigation attempts
      window.addEventListener('beforeunload', function (e) {
        console.log('Navigating away from:', window.location.href);
      });
    </script>
  </body>
</html>
