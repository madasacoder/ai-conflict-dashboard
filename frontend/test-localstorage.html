<!doctype html>
<html>
  <head>
    <title>LocalStorage Test</title>
  </head>
  <body>
    <h1>LocalStorage Test</h1>
    <p>Current API Keys in localStorage:</p>
    <pre id="keys"></pre>

    <button onclick="checkStorage()">Check Storage</button>
    <button onclick="setTestValue()">Set Test Value</button>
    <button onclick="clearStorage()">Clear Storage</button>

    <script>
      function checkStorage() {
        const keys = {
          openaiKey: localStorage.getItem('openaiKey'),
          claudeKey: localStorage.getItem('claudeKey'),
          geminiKey: localStorage.getItem('geminiKey'),
          grokKey: localStorage.getItem('grokKey'),
          testValue: localStorage.getItem('testValue'),
          allKeys: Object.keys(localStorage),
        };
        document.getElementById('keys').textContent = JSON.stringify(keys, null, 2);
      }

      function setTestValue() {
        localStorage.setItem('testValue', 'Test at ' + new Date().toISOString());
        checkStorage();
      }

      function clearStorage() {
        if (confirm('Clear all localStorage?')) {
          localStorage.clear();
          checkStorage();
        }
      }

      // Check on load
      checkStorage();
    </script>
  </body>
</html>
